import{a as Ae,b as ft,r as re,e as P,o as A,f as I,h as f,i as ht,m as pt,u as d,j,w as Q,F as X,k,l as Qe,c as z,_ as vt,p as yt,q as $e,s as J,t as bt,v as F,x as ne}from"./entry.66ee6ae0.js";const gt=["disabled"],Tt={class:"flex items-center gap-2"},St={inheritAttrs:!1},wt=Ae({...St,__name:"button",props:{variant:{type:String,default:"primary"},size:{type:String,default:"md"},loading:{type:Boolean,default:!1}},setup(e){const t=e,n=ft(),r=re(!1),o={...n,onClick:async i=>{r.value=!0,n!=null&&n.onClick&&await n.onClick(i),r.value=!1}},s=P(()=>{let i="inline-flex justify-center items-center border font-medium focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:bg-normal-200 disabled:text-normal-500 ";switch(t.variant){case"primary":i+="border-transparent bg-primary-600 text-white shadow-sm hover:bg-primary-700";break;case"secondary":i+="border-transparent bg-primary-100 text-primary-700 hover:bg-primary-200";break;case"tertiary":i+="border-normal-300 bg-white text-normal-700 shadow-sm hover:bg-normal-50";break;case"danger":i+="border-transparent bg-danger-600 text-white shadow-sm hover:bg-danger-700";break}let u="";switch(t.size){case"xs":i+=" rounded text-xs px-2.5 py-1.5",u+=" -ml-0.5 mr-2 h-4 w-4";break;case"sm":i+=" rounded-md text-sm px-3 py-2",u+=" -ml-0.5 mr-2 h-4 w-4";break;case"md":i+=" rounded-md text-sm px-4 py-2",u+=" -ml-1 mr-2 h-5 w-5";break;case"lg":i+=" rounded-md text-base px-4 py-2",u+=" -ml-1 mr-3 h-5 w-5";break;case"xl":i+=" rounded-md text-base px-6 py-3",u+=" -ml-1 mr-3 h-5 w-5";break}return{button:i,icon:u}});return(i,u)=>(A(),I("button",pt(o,{class:d(s).button,disabled:d(r)||e.loading||!!o.disabled}),[f("div",Tt,[ht(i.$slots,"default")])],16,gt))}}),xt={class:"grid grid-cols-1 gap-4"},At=Ae({__name:"taxDeductions",props:{deductions:null,childrenCount:null},setup(e){const t=e,n=P(()=>Object.keys(t.deductions).filter(o=>t.deductions[o].withChildrenOnly!==!0||(t.childrenCount??0)>0)),r=o=>{const s=t.deductions[o];if(!s.defaultFlatRate){if(s.default!==void 0)return s.default;if(s.defaultPerChild!==void 0&&t.childrenCount!==void 0)return s.defaultPerChild*t.childrenCount}},a=o=>{const s=t.deductions[o];return s.defaultFlatRate?"pauschal":s.default!==void 0?s.default:s.defaultPerChild!==void 0&&t.childrenCount!==void 0?s.defaultPerChild*t.childrenCount:0};return(o,s)=>{const i=Qe("FormKit");return A(),I("div",null,[j(i,{type:"group",name:"deductions"},{default:Q(()=>[f("div",xt,[(A(!0),I(X,null,k(d(n),u=>(A(),z(i,{key:u,id:u,name:u,label:t.deductions[u].label.de,"wrapper-class":"flex items-center","label-class":"flex-1 mr-4","inner-class":"flex-1",type:"numberSuffix",suffix:"CHF",value:r(u),placeholder:a(u),validation:"min:0",min:0},null,8,["id","name","label","value","placeholder"]))),128))])]),_:1})])}}}),Ft=(e,t=0)=>{if(t===0)return Math.round(e);const n=Math.pow(10,t);return t>0?Math.round((e+Number.EPSILON)*n)/n:Math.round((e+Number.EPSILON)/n)*n},Z=(e,t=0)=>Ft(e,t).toLocaleString("de-CH"),$=(e,t=0)=>`${Z(e,t)} CHF`;var M={},ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.nameof=void 0;function ye(e){return e.replace(/[?!]/g,"")}function Et(e,t){var n=e.toString();if(n.startsWith("class ")&&!n.startsWith("class =>"))return ye(n.substring(6,n.indexOf(" {")));if(n.includes("=>"))return ye(n.substring(n.indexOf(".")+1));var r=/function\s*\(\w+\)\s*\{[\r\n\s]*return\s+\w+\.((\w+\.)*(\w+))/i,a=n.match(r);if(a)return t&&t.lastProp?a[3]:a[1];if(n.startsWith("function "))return ye(n.substring(9,n.indexOf("(")));throw new Error("ts-simple-nameof: Invalid function.")}ce.nameof=Et;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.nameof=void 0;var t=ce;Object.defineProperty(e,"nameof",{enumerable:!0,get:function(){return t.nameof}})})(M);const Ct=148200,ee={insurancePremiums:{label:{de:"Versicherungsprämien und Zinsen von Sparkapitalien"},hint:{de:"Versicherungsprämien und Zinsen von Sparkapitalien, abzüglich individuelle Prämienverbilligung. Annahme: 4'560 CHF pro Erwachsenen (380 CHF monatlich)"},default:4560},pillar3a:{label:{de:"Beiträge an Säule 3a"}},mealCosts:{label:{de:"Verpflegungskosten"},default:1600,suggestion:3200,dependsOnWorkloadFactor:!0},travelExpenses:{label:{de:"Fahrkosten"},default:1e3},otherProfessionalExpenses:{label:{de:"Berufsauslagen"},defaultFlatRate:!0},professionalExpensesSideline:{label:{de:"Berufsauslagen Nebenerwerb"}},otherDeductions:{label:{de:"Übrige Abzüge"}}},ae={insurancePremiumsKids:{label:{de:"Versicherungsprämien Kinder"},withChildrenOnly:!0,defaultPerChild:1200},childcareCosts:{label:{de:"Kinder Drittbetreuungskosten"},withChildrenOnly:!0},debtInterest:{label:{de:"Schuldzinsen"}},maintenanceCostsRealEstate:{label:{de:"Unterhaltskosten für Liegenschaften"}},otherDeductions:{label:{de:"Übrige Abzüge"}}},It="data/parsed/",le=`./${It}`,_t=[{value:"incomeAndWealth",label:{de:"Einkommens- und Vermögensstauer"}},{value:"capital",label:{de:"Vorsorge Kapitalsteuer"}}],Ot=[{value:"s",label:{de:"Alleinstehend"}},{value:"m",label:{de:"Verheiratet"}},{value:"rp",label:{de:"Eingetragene Partnerschaft"}},{value:"c",label:{de:"Konkubinat"}}],$t=[{value:"christ",label:{de:"Christkatholisch"}},{value:"roman",label:{de:"Römisch-katholisch"}},{value:"protestant",label:{de:"Reformiert"}},{value:"other",label:{de:"Andere / Keine"}}],Nt=[{value:"gross",label:{de:"Brutto"}},{value:"net",label:{de:"Netto"}},{value:"taxable",label:{de:"Steuerpflichtig"}}],W={calculationTypes:_t,years:[2022,2024],relationships:Ot,confessions:$t,incomeTypes:Nt,deductionsGeneral:ae,deductionsPerson:ee},Bt=[{value:0,label:"Keine"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"}],me=async e=>{if(typeof window>"u"){const{readFile:t}=await vt(()=>import("./__vite-browser-external.b25bb000.js"),[],import.meta.url);return t(e,"utf-8")}else{const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch file at ${e}`);return t.text()}},Ne=new Map,Xe=new Map,Mt=async e=>{if(Ne.has(e))return;const t=`${le}${e}/locations.json`,n=await me(t),r=JSON.parse(n),a=new Map;Ne.set(e,a),r.forEach(o=>{a.set(o.BfsID,o)}),Xe.set(e,r)},jt=async e=>(await Mt(e),Xe.get(e));var Rt="Amount is invalid.",Dt="Scale is invalid.",V="Objects must have the same currency.",Kt="Currency is not decimal.";function R(e,t){if(!e)throw new Error("[Dinero.js] ".concat(t))}function zt(e){var t=e.calculator,n=e.onCreate,r=e.formatter,a=r===void 0?{toNumber:Number,toString:String}:r;return function o(s){var i=s.amount,u=s.currency,m=u.code,l=u.base,c=u.exponent,v=s.scale,y=v===void 0?c:v,S={code:m,base:l,exponent:c};return n==null||n({amount:i,currency:S,scale:y}),{calculator:t,formatter:a,create:o,toJSON:function(){return{amount:i,currency:S,scale:y}}}}}var L;(function(e){e[e.LT=-1]="LT",e[e.EQ=0]="EQ",e[e.GT=1]="GT"})(L||(L={}));function B(e){return function(t,n){return e.compare(t,n)===L.EQ}}function de(e){return function(t,n){return e.compare(t,n)===L.LT}}function Fe(e){var t=B(e),n=de(e),r=e.zero();return function(a){if(t(a,r))return r;if(n(a,r)){var o=e.decrement(r);return e.multiply(o,a)}return a}}function Ee(e){return Array.isArray(e)}function fe(e){return function(t){return Ee(t)?t.reduce(function(n,r){return e.multiply(n,r)}):t}}function Pt(e){var t=B(e);return function(n,r){var a=e.zero();if(t(a,n))return e.zero();for(var o=a,s=n;t(e.modulo(s,r),a);)s=e.integerDivide(s,r),o=e.increment(o);return o}}function q(e){return function(t,n){return e.compare(t,n)===L.GT}}function Ut(e){return function(t,n){return q(e)(t,n)||B(e)(t,n)}}function Lt(e){return e==null?void 0:e.hasOwnProperty("amount")}function Jt(e,t){if(Lt(e)){var n;return{amount:e.amount,scale:(n=e==null?void 0:e.scale)!==null&&n!==void 0?n:t}}return{amount:e,scale:t}}function Vt(e){return Wt(e)||Ht(e)||Gt(e)||qt()}function qt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gt(e,t){if(e){if(typeof e=="string")return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}}function Ht(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wt(e){if(Array.isArray(e))return Te(e)}function Te(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zt(e){var t=e.multiply;return function(n){return n.reduce(function(r,a,o){var s=n.slice(o).reduce(function(i,u){return t(i,u)});return[].concat(Vt(r),[s])},[])}}function Yt(e){var t=B(e),n=e.zero(),r=e.increment(e.increment(n));return function(a){return t(e.modulo(a,r),n)}}function ke(e){var t=B(e),n=Fe(e);return function(r,a){var o=n(e.modulo(r,a)),s=e.subtract(a,o);return t(s,o)}}function Qt(e){return function(t,n){return de(e)(t,n)||B(e)(t,n)}}function Ce(e){var t=de(e);return function(n){return n.reduce(function(r,a){return t(r,a)?a:r})}}function Xt(e){var t=q(e);return function(n){return n.reduce(function(r,a){return t(r,a)?a:r})}}function kt(e){return rn(e)||nn(e)||tn(e)||en()}function en(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tn(e,t){if(e){if(typeof e=="string")return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Be(e,t)}}function Be(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rn(e){if(Array.isArray(e))return e}function G(e){var t=kt(e),n=t[0],r=t.slice(1),a=fe(n.calculator),o=n.toJSON(),s=o.currency,i=B(n.calculator),u=a(s.base);return r.every(function(m){var l=m.toJSON(),c=l.currency,v=a(c.base);return c.code===s.code&&i(v,u)&&i(c.exponent,s.exponent)})}var ie=function(t,n,r){var a=q(r),o=B(r),s=r.zero(),i=a(t,s),u=r.integerDivide(t,n),m=r.modulo(t,n),l=o(m,s);return i||l?u:r.decrement(u)},et=function(t,n,r){var a=Yt(r),o=ke(r),s=an(t,n,r);return o(t,n)?a(s)?s:r.decrement(s):s},an=function(t,n,r){var a=q(r),o=ke(r),s=Fe(r),i=r.zero(),u=s(r.modulo(t,n)),m=r.subtract(n,u),l=a(m,u),c=a(t,i);return o(t,n)||c&&!l||!c&&l?on(t,n,r):ie(t,n,r)},on=function(t,n,r){var a=q(r),o=B(r),s=r.zero(),i=a(t,s),u=r.integerDivide(t,n),m=r.modulo(t,n),l=o(m,s);return!l&&i?r.increment(u):u};function sn(e,t){return mn(e)||ln(e,t)||cn(e,t)||un()}function un(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cn(e,t){if(e){if(typeof e=="string")return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}}function Me(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ln(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,s,i;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));a=!0);}catch(u){o=!0,i=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function mn(e){if(Array.isArray(e))return e}function he(e){var t=q(e),n=fe(e);return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var i=o[0],u=o[1],m=o[2],l=m===void 0?ie:m,c=i.toJSON(),v=c.amount,y=c.currency,S=c.scale,x=t(u,S),h=x?e.multiply:l,T=x?[u,S]:[S,u],p=sn(T,2),_=p[0],C=p[1],b=n(y.base),E=e.power(b,e.subtract(_,C));return i.create({amount:h(v,E,e),currency:y,scale:u})}}function H(e){var t=Ce(e),n=he(e),r=B(e);return function(){for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];var u=s[0],m=u.reduce(function(l,c){var v=c.toJSON(),y=v.scale;return t([l,y])},e.zero());return u.map(function(l){var c=l.toJSON(),v=c.scale;return r(v,m)?l:n(l,m)})}}function dn(e,t){return vn(e)||pn(e,t)||hn(e,t)||fn()}function fn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hn(e,t){if(e){if(typeof e=="string")return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(e,t)}}function je(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,s,i;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));a=!0);}catch(u){o=!0,i=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function vn(e){if(Array.isArray(e))return e}function yn(e){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=r[0],s=r[1],i=o.toJSON(),u=i.amount,m=i.currency,l=i.scale,c=s.toJSON(),v=c.amount,y=e.add(u,v);return o.create({amount:y,currency:m,scale:l})}}function bn(e){var t=H(e),n=yn(e);return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var i=o[0],u=o[1],m=G([i,u]);R(m,V);var l=t([i,u]),c=dn(l,2),v=c[0],y=c[1];return n(v,y)}}function tt(e,t){return wn(e)||Sn(e,t)||Tn(e,t)||gn()}function gn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tn(e,t){if(e){if(typeof e=="string")return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(e,t)}}function Re(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,s,i;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));a=!0);}catch(u){o=!0,i=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function wn(e){if(Array.isArray(e))return e}function xn(e){var t=q(e);return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var s=a[0],i=a[1],u=[s,i],m=u.map(function(y){var S=y.toJSON(),x=S.amount;return x}),l=tt(m,2),c=l[0],v=l[1];return t(c,v)}}function An(e){var t=H(e),n=xn(e);return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var i=o[0],u=o[1],m=G([i,u]);R(m,V);var l=t([i,u]),c=tt(l,2),v=c[0],y=c[1];return n(v,y)}}function nt(e,t){return In(e)||Cn(e,t)||En(e,t)||Fn()}function Fn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function En(e,t){if(e){if(typeof e=="string")return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}}function De(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,s,i;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));a=!0);}catch(u){o=!0,i=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function In(e){if(Array.isArray(e))return e}function _n(e){var t=Ut(e);return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var s=a[0],i=a[1],u=[s,i],m=u.map(function(y){var S=y.toJSON(),x=S.amount;return x}),l=nt(m,2),c=l[0],v=l[1];return t(c,v)}}function On(e){var t=H(e),n=_n(e);return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var i=o[0],u=o[1],m=G([i,u]);R(m,V);var l=t([i,u]),c=nt(l,2),v=c[0],y=c[1];return n(v,y)}}function $n(e){var t=B(e);return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var s=a[0],i=s.toJSON(),u=i.amount;return t(u,e.zero())}}function rt(e,t){return jn(e)||Mn(e,t)||Bn(e,t)||Nn()}function Nn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bn(e,t){if(e){if(typeof e=="string")return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ke(e,t)}}function Ke(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,s,i;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));a=!0);}catch(u){o=!0,i=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function jn(e){if(Array.isArray(e))return e}function Rn(e){var t=Qt(e);return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var s=a[0],i=a[1],u=[s,i],m=u.map(function(y){var S=y.toJSON(),x=S.amount;return x}),l=rt(m,2),c=l[0],v=l[1];return t(c,v)}}function Dn(e){var t=H(e),n=Rn(e);return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var i=o[0],u=o[1],m=G([i,u]);R(m,V);var l=t([i,u]),c=rt(l,2),v=c[0],y=c[1];return n(v,y)}}function Kn(e,t){return Ln(e)||Un(e,t)||Pn(e,t)||zn()}function zn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pn(e,t){if(e){if(typeof e=="string")return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}}function ze(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Un(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,s,i;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));a=!0);}catch(u){o=!0,i=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function Ln(e){if(Array.isArray(e))return e}function Jn(e){var t=Ce(e);return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var s=a[0],i=Kn(s,1),u=i[0],m=u.toJSON(),l=m.currency,c=m.scale,v=t(s.map(function(y){var S=y.toJSON(),x=S.amount;return x}));return u.create({amount:v,currency:l,scale:c})}}function Vn(e){var t=H(e),n=Jn(e);return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var i=o[0],u=G(i);R(u,V);var m=t(i);return n(m)}}function qn(e,t){return Zn(e)||Wn(e,t)||Hn(e,t)||Gn()}function Gn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hn(e,t){if(e){if(typeof e=="string")return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}}function Pe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,s,i;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));a=!0);}catch(u){o=!0,i=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function Zn(e){if(Array.isArray(e))return e}function Yn(e){var t=Xt(e);return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var s=a[0],i=qn(s,1),u=i[0],m=u.toJSON(),l=m.currency,c=m.scale,v=t(s.map(function(y){var S=y.toJSON(),x=S.amount;return x}));return u.create({amount:v,currency:l,scale:c})}}function Qn(e){var t=H(e),n=Yn(e);return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var i=o[0],u=G(i);R(u,V);var m=t(i);return n(m)}}function Xn(e){var t=he(e),n=e.zero();return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var i=o[0],u=o[1],m=i.toJSON(),l=m.amount,c=m.currency,v=m.scale,y=Jt(u,n),S=y.amount,x=y.scale,h=e.add(v,x);return t(i.create({amount:e.multiply(l,S),currency:c,scale:h}),h)}}function kn(e,t){return rr(e)||nr(e,t)||tr(e,t)||er()}function er(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tr(e,t){if(e){if(typeof e=="string")return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ue(e,t)}}function Ue(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nr(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,s,i;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));a=!0);}catch(u){o=!0,i=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function rr(e){if(Array.isArray(e))return e}function ar(e){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=r[0],s=r[1],i=o.toJSON(),u=i.amount,m=i.currency,l=i.scale,c=s.toJSON(),v=c.amount,y=e.subtract(u,v);return o.create({amount:y,currency:m,scale:l})}}function or(e){var t=H(e),n=ar(e);return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var i=o[0],u=o[1],m=G([i,u]);R(m,V);var l=t([i,u]),c=kn(l,2),v=c[0],y=c[1];return n(v,y)}}function sr(e){return lr(e)||cr(e)||ur(e)||ir()}function ir(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ur(e,t){if(e){if(typeof e=="string")return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}}function cr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lr(e){if(Array.isArray(e))return Se(e)}function Se(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mr(e){var t=Zt(e);return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var s=a[0],i=a[1],u=s.toJSON(),m=u.amount,l=u.currency,c=u.scale,v=e.power,y=e.integerDivide,S=e.modulo,x=Ee(l.base)?l.base:[l.base],h=t(x.map(function(p){return v(p,c)})),T=h.reduce(function(p,_,C){var b=p[C],E=y(b,_),mt=S(b,_);return[].concat(sr(p.filter(function(jo,dt){return dt!==C})),[E,mt])},[m]);return i?i({value:T,currency:l}):T}}function dr(e){var t=mr(e),n=fe(e),r=B(e);return function(){for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];var u=s[0],m=s[1],l=u.toJSON(),c=l.currency,v=l.scale,y=n(c.base),S=e.zero(),x=new Array(10).fill(null).reduce(e.increment,S),h=Ee(c.base),T=r(e.modulo(y,x),S),p=!h&&T;R(p,Kt);var _=t(u),C=fr(e,u.formatter),b=C(_,v);return m?m({value:b,currency:c}):b}}function fr(e,t){var n=Fe(e),r=B(e),a=de(e),o=e.zero();return function(s,i){var u=t.toString(s[0]),m=t.toString(n(s[1])),l=t.toNumber(i),c="".concat(u,".").concat(m.padStart(l,"0")),v=r(s[0],o),y=a(s[1],o);return v&&y?"-".concat(c):c}}function hr(e){return e.toJSON()}function pr(e){var t=Pt(e),n=B(e),r=Ce(e),a=he(e),o=fe(e);return function(){for(var i=arguments.length,u=new Array(i),m=0;m<i;m++)u[m]=arguments[m];var l=u[0],c=l.toJSON(),v=c.amount,y=c.currency,S=c.scale,x=o(y.base),h=t(v,x),T=e.subtract(S,h),p=r([T,y.exponent]);return n(p,S)?l:a(l,p)}}function pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=r.calculator,s=bn(o);return s(r,a)}function Le(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=r.calculator,s=An(o);return s(r,a)}function at(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=r.calculator,s=On(o);return s(r,a)}function ot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=r.calculator,o=$n(a);return o(r)}function vr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=r.calculator,s=Dn(o);return s(r,a)}function yr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=r[0].calculator,o=Vn(a);return o(r)}function br(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=r[0].calculator,o=Qn(a);return o(r)}function st(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=r.calculator,s=Xn(o);return s(r,a)}function K(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=r.calculator,s=or(o);return s(r,a)}function Ie(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=r.calculator,s=dr(o);return s(r,a)}var gr=hr;function ue(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2],s=r.calculator,i=he(s);return i(r,a,o)}function it(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=r.calculator,o=pr(a);return o(r)}var Tr=function(t,n){return t+n},Sr=function(t,n){return t<n?L.LT:t>n?L.GT:L.EQ},wr=function(t){return t-1},xr=function(t){return t+1},Ar=function(t,n){return Math.trunc(t/n)},Fr=function(t,n){return t%n},Er=function(t,n){return t*n},Cr=function(t,n){return Math.pow(t,n)},Ir=function(t,n){return t-n};function _r(){return 0}var Or={add:Tr,compare:Sr,decrement:wr,increment:xr,integerDivide:Ar,modulo:Fr,multiply:Er,power:Cr,subtract:Ir,zero:_r},_e=zt({calculator:Or,onCreate:function(t){var n=t.amount,r=t.scale;R(Number.isInteger(n),Rt),R(Number.isInteger(r),Dt)}}),we={code:"CHF",base:10,exponent:2};const U=(...e)=>e.reduce(pe),$r=(...e)=>e.reduce(K),Nr=({value:e})=>Number(e),N=(e,t=0)=>ue(e,t,et),ut=e=>ue(ue(e,-2,ie),0,ie),be=(e,t=0)=>ue(ve(e,g(0)),t,et),g=(e,t)=>{const n=t??we.exponent,r=10**n,a=Math.round(e*r);return _e({amount:a,currency:we,scale:n})},Br=(e,t)=>{const n=10**t;return{amount:Math.round(e*n),scale:t+2}},Mr=(e,t)=>{const n=10**t;return{amount:Math.round(e*n),scale:t}},O=(e,t,n)=>it(st(e,Br(t,n))),D=(e,t,n)=>it(st(e,Mr(t,n))),w=e=>Ie(e,Nr),te=(...e)=>br(e),ve=(...e)=>yr(e),jr=(e,t,n="asc")=>{const r=[...e];return r.sort((a,o)=>t(a)<t(o)?n==="asc"?-1:1:t(a)>t(o)?n==="asc"?1:-1:0),r},Rr=[{id:"HauptErw_EK",name:ee.otherProfessionalExpenses.label.de,rule:()=>!0,input:(e,t)=>t.filter(n=>n.netIncome>0).map((n,r)=>{var a;return{target:`P${r+1}`,amount:n.netIncome,min:(a=n.person.deductions)==null?void 0:a.otherProfessionalExpenses}})},{id:"Fahrkosten_EK",rule:e=>e.persons.some(t=>{var n;return(((n=t.deductions)==null?void 0:n.travelExpenses)??0)>0}),input:(e,t)=>t.filter(n=>n.netIncome>0).map((n,r)=>{var a;return{target:`P${r+1}`,amount:(a=n.person.deductions)==null?void 0:a.travelExpenses}})},{id:"NebenErw_EK",rule:e=>e.persons.some(t=>{var n;return(((n=t.deductions)==null?void 0:n.professionalExpensesSideline)??0)>0}),input:(e,t)=>t.filter(n=>{var r;return(((r=n.person.deductions)==null?void 0:r.professionalExpensesSideline)??0)>0}).map((n,r)=>{var a;return{target:`P${r+1}`,amount:0,min:(a=n.person.deductions)==null?void 0:a.professionalExpensesSideline}})},{id:"S3a_EK",name:ee.pillar3a.label.de,rule:()=>!0,input:(e,t)=>e.persons.map((n,r)=>{var a;return{target:`P${r+1}`,amount:(a=n.deductions)==null?void 0:a.pillar3a}})},{id:"KKSparLedigMitBVGS3a_EK",rule:e=>e.relationship==="s",input:e=>{var t;return[{amount:((t=e.persons[0].deductions)==null?void 0:t.insurancePremiums)??4560}]}},{id:"KKSparzVerhMitBVGS3a_EK",rule:e=>["m","rp"].includes(e.relationship),input:e=>[{amount:e.persons.reduce((t,n)=>{var r;return t+(((r=n.deductions)==null?void 0:r.insurancePremiums)??4560)},0)}]},{id:"KKSparProKind_EK",rule:e=>e.children>0,input:e=>Array.from(Array(e.children).keys()).map((t,n)=>{var r,a;return{target:`K${n+1}`,amount:((r=e.deductions)==null?void 0:r.insurancePremiumsKids)!==void 0?(((a=e.deductions)==null?void 0:a.insurancePremiumsKids)??0)/e.children:1400}})},{id:"SozVerheiratet_EK",rule:e=>["m","rp"].includes(e.relationship),input:()=>[{}]},{id:"ZweitVerdiener_EK",rule:e=>["m","rp"].includes(e.relationship),input:e=>jr(e.persons,t=>t.income).filter((t,n)=>n===0).map(t=>({amount:t.income}))},{id:"SozLedig_EK",rule:e=>e.relationship==="s",input:(e,t)=>[{amount:t[0].netIncome}]},{id:"SozAlleinerzieher_EK",rule:e=>e.relationship==="s"&&e.children>0,input:(e,t)=>[{amount:t[0].netIncome}]},{id:"SozKindAlleinerzieher_EK",rule:e=>e.relationship==="s"&&e.children>0,input:(e,t)=>[{amount:t[0].netIncome}]},{id:"SozKind_EK",rule:e=>e.children>0,input:e=>[{multiplier:e.children}]},{id:"EigenBetr_EK",rule:e=>e.children>0,input:()=>[{}]},{id:"SozKind_VM",rule:e=>e.children>0,input:e=>[{multiplier:e.children}]},{id:"FremdBetr_EK",rule:e=>e.children>0,input:e=>Array.from(Array(e.children).keys()).map((t,n)=>{var r;return{target:`K${n+1}`,amount:(((r=e.deductions)==null?void 0:r.childcareCosts)??0)/e.children}})},{id:"SozLedigMitOhneKinder_VM",rule:e=>["s","c"].includes(e.relationship),input:()=>[{}]},{id:"SozVerheiratet_VM",rule:e=>["m","rp"].includes(e.relationship),input:()=>[{}]},{id:"SozLedigOhneKinder_VM",rule:e=>["s","c"].includes(e.relationship)&&e.children===0,input:()=>[{}]},{id:"SozAlleinerzieher_VM",rule:e=>["s","c"].includes(e.relationship)&&e.children>0,input:()=>[{}]},{id:"Custom_Meal_EK",applyAlways:!0,name:ee.mealCosts.label.de,rule:(e,t)=>t==="EINKOMMENSSTEUER"&&e.persons.some(n=>{var r;return((r=n.deductions)==null?void 0:r.mealCosts)!==void 0}),input:(e,t)=>t.filter(n=>n.netIncome>0).map((n,r)=>{var a;return{target:`P${r+1}`,amount:(a=n.person.deductions)==null?void 0:a.mealCosts}})},{id:"Custom_OtherDeductions_Person_EK",applyAlways:!0,name:ee.otherDeductions.label.de,rule:(e,t)=>t==="EINKOMMENSSTEUER"&&e.persons.some(n=>{var r;return((r=n.deductions)==null?void 0:r.otherDeductions)!==void 0}),input:(e,t)=>e.persons.map((n,r)=>{var a;return{target:`P${r+1}`,amount:(a=n.deductions)==null?void 0:a.otherDeductions}})},{id:"Custom_OtherDeductions_General_EK",applyAlways:!0,name:ae.otherDeductions.label.de,rule:(e,t)=>{var n;return t==="EINKOMMENSSTEUER"&&((n=e.deductions)==null?void 0:n.otherDeductions)!==void 0},input:(e,t)=>{var n;return[{amount:(n=e.deductions)==null?void 0:n.otherDeductions}]}},{id:"Custom_DeptInterest_EK",applyAlways:!0,name:ae.debtInterest.label.de,rule:(e,t)=>{var n;return t==="EINKOMMENSSTEUER"&&((n=e.deductions)==null?void 0:n.debtInterest)!==void 0},input:(e,t)=>{var n;return[{amount:Math.min(((n=e.deductions)==null?void 0:n.debtInterest)??0,5e4)}]}},{id:"Custom_MaintenanceCostsRealEstate_EK",applyAlways:!0,name:ae.maintenanceCostsRealEstate.label.de,rule:(e,t)=>{var n;return t==="EINKOMMENSSTEUER"&&((n=e.deductions)==null?void 0:n.maintenanceCostsRealEstate)!==void 0},input:(e,t)=>{var n;return[{amount:(n=e.deductions)==null?void 0:n.maintenanceCostsRealEstate}]}}],Dr=e=>e.persons.map(t=>{if(t.incomeType!=="gross")return{netIncome:t.income,grossIncome:t.income,person:t,ahvIvEo:0,alv:0,nbu:0,pk:0};const n=g(Ct),r=g(t.income),a=N(O(r,5.3,1)),o=N(O(te(r,n),1.1,1)),s=N(O(te(r,n),.4,1)),i=g(t.pkDeduction??0);return{person:t,grossIncome:t.income,ahvIvEo:w(a),alv:w(o),nbu:w(s),pk:w(i),netIncome:w($r(r,a,o,s,i))}}),Je=(e,t,n,r,a,o)=>{if(!e.rule(t,n))return[];const s=a==null?void 0:a.itemsById.get(e.id),i=o==null?void 0:o.itemsById.get(e.id),u=[];return(s||i||e.applyAlways)&&e.input(t,r).forEach(m=>{const l=e.applyAlways?m.amount??0:0,c=s?qe(s,m.amount):g(l),v=i?qe(i,m.amount):g(l),y={id:e.id,name:e.name??(s==null?void 0:s.name.de)??(i==null?void 0:i.name.de)??"Unbekannter Abzug",target:m.target??"",amountCanton:Ve(c,m),amountBund:Ve(v,m)};(Le(y.amountCanton,g(0))||Le(y.amountBund,g(0)))&&u.push(y)}),u},Ve=(e,t)=>(t.multiplier!==void 0&&(e=D(e,t.multiplier,1)),t.min!==void 0&&(e=ve(e,g(t.min))),e),qe=(e,t=0)=>{const n=g(t);switch(e.format){case"MAXIMUM":return te(n,g(e.maximum));case"PERCENT":return N(O(n,e.percent,5));case"PERCENT,MINIMUM,MAXIMUM":return te(ve(N(O(n,e.percent,5)),g(e.minimum)),g(e.maximum));case"STANDARDIZED":return g(e.amount);default:return g(0)}},oe=new Map,Kr=async(e,t)=>{var s;if((s=oe.get(t))!=null&&s.has(e))return;const n=`${le}${t}/deductions/${e}.json`,r=await me(n),a=JSON.parse(r);let o=oe.get(t);o||(o=new Map,oe.set(t,o)),a.forEach(i=>{if(!o)throw new Error("taxDeductionsByCanton is undefined");let u=o.get(e);u||(u=new Map,o.set(e,u)),u.get(i.type)||u.set(i.type,{...i,itemsById:new Map(i.items.map(l=>[l.id,l]))})})},ge=async(e,t,n)=>{var a,o;await Kr(e,t);const r=(o=(a=oe.get(t))==null?void 0:a.get(e))==null?void 0:o.get(n);if(!r)throw new Error(`Deduction table not found for canton ${e}, tax type ${n}`);return r},xe=new Map,zr=async(e,t)=>{let n=xe.get(t),r=n==null?void 0:n.get(e);if(r)return;const a=`${le}${t}/factors/${e}.json`,o=await me(a),s=JSON.parse(o);n||(n=new Map,xe.set(t,n)),r=new Map,s.forEach(i=>{if(!r)throw new Error("factorsByCity is undefined");r.get(i.Location.BfsID)||r.set(i.Location.BfsID,i)}),n.set(e,r)},Pr=async e=>{var n,r;await zr(e.cantonId,e.year);const t=(r=(n=xe.get(e.year))==null?void 0:n.get(e.cantonId))==null?void 0:r.get(e.locationId);if(!t)throw new Error(`Factor not found for canton: ${e.cantonId}, year: ${e.year}, city: ${e.locationId}`);return t},Ur=(e,t)=>{switch(e){case"christ":return t.IncomeRateChrist;case"roman":return t.IncomeRateRoman;case"protestant":return t.IncomeRateProtestant;default:return 0}},Lr=(e,t)=>{switch(e){case"christ":return t.FortuneRateChrist;case"roman":return t.FortuneRateRoman;case"protestant":return t.FortuneRateProtestant;default:return 0}},ct=async(e,t,n,r)=>{const a=await Pr(e),o=N(O(t,a.IncomeRateCanton,5)),s=N(O(t,a.IncomeRateCity,5)),i=N(U(...e.persons.map(c=>O(n,Ur(c.confession,a)/e.persons.length,2)))),u=N(O(r,a.FortuneRateCanton,5)),m=N(O(r,a.FortuneRateCity,5)),l=N(U(...e.persons.map(c=>O(r,Lr(c.confession,a)/e.persons.length,5))));return{taxesIncomeCanton:o,taxesIncomeCity:s,taxesIncomeChurch:i,taxesFortuneCanton:u,taxesFortuneCity:m,taxesFortuneChurch:l}},Jr=e=>{const t=e.persons.length;if(t<1||t>2)throw new Error("Invalid number of persons");if(t===1&&["m","rp"].includes(e.relationship))throw new Error("Invalid relationship for single person");if(t===2&&["s","c"].includes(e.relationship))throw new Error("Invalid relationship for two persons")},Vr={26:{amount:24,marriedBoth:!0},4:{amount:0,marriedBoth:!0},12:{amount:50,marriedBoth:!0},22:{amount:70,marriedBoth:!0},19:{amount:0,marriedBoth:!0},15:{amount:0,marriedBoth:!0},14:{amount:50,marriedBoth:!1},9:{amount:0,marriedBoth:!0},25:{amount:0,marriedBoth:!0},7:{amount:0,marriedBoth:!0},18:{amount:30,marriedBoth:!0},6:{amount:0,marriedBoth:!0},5:{amount:0,marriedBoth:!0},17:{amount:60,marriedBoth:!1},3:{amount:0,marriedBoth:!0},2:{amount:0,marriedBoth:!0},16:{amount:0,marriedBoth:!0},10:{amount:0,marriedBoth:!0},1:{amount:0,marriedBoth:!0},20:{amount:0,marriedBoth:!0},21:{amount:40,marriedBoth:!0},23:{amount:0,marriedBoth:!0},24:{amount:24,marriedBoth:!1},13:{amount:0,marriedBoth:!0},8:{amount:25,marriedBoth:!1},11:{amount:0,marriedBoth:!0}},lt=new Map;let Ge=!1;const qr=()=>{Ge||(Object.entries(Vr).forEach(([e,t])=>{lt.set(parseInt(e),t)}),Ge=!0)},Gr=e=>{qr();const t=lt.get(e);if(!t)throw new Error(`Personnel taxes not found for canton ${e}`);return t},Hr=e=>{const t=Gr(e.cantonId),n=g(t.amount);return N(D(n,t.marriedBoth?e.persons.length:1,0))},se=new Map,Wr=async(e,t)=>{var s;if((s=se.get(t))!=null&&s.has(e))return;const n=`${le}${t}/tarifs/${e}.json`,r=await me(n),a=JSON.parse(r);let o=se.get(t);o||(o=new Map,se.set(t,o)),a.forEach(i=>{if(!o)throw new Error("taxTarifsByCanton is undefined");let u=o.get(e);u||(u=new Map,o.set(e,u));let m=u.get(i.taxType);m||(m=[],u.set(i.taxType,m)),m.push(i)})},Zr=async(e,t,n,r)=>{var s,i;await Wr(e,t);const a=(i=(s=se.get(t))==null?void 0:s.get(e))==null?void 0:i.get(n);if(!a)throw new Error(`No tarifs found for cantonId: ${e}, tarifType: ${n}`);const o=a.find(u=>u.group==="ALLE"||u.group.includes(r));if(!o)throw new Error(`Tarif not found for cantonId: ${e}, tarifType: ${n}, tarifGroup: ${r}`);return o},Oe=(e,t)=>{if(["m","rp"].includes(e))return"VERHEIRATET";if(t>0)return"LEDIG_MIT_KINDER";if(e==="s")return"LEDIG_ALLEINE";if(e==="c")return"LEDIG_KONKUBINAT";throw new Error("Invalid relationship")},He=e=>!!["VERHEIRATET","LEDIG_MIT_KINDER"].includes(e),Yr=(e,t)=>{let n=t.tableType;t.tableType==="ZUERICH"&&t.table.find(a=>a.taxes>0)&&(n="BUND");let r=g(0);switch(n){case"FLATTAX":r=ea(e,t);break;case"ZUERICH":r=Qr(e,t);break;case"BUND":r=kr(e,t);break;case"FREIBURG":r=Xr(e,t);break;case"FORMEL":r=g(0);break;default:throw new Error(`Unknown table type ${t.tableType}`)}return r},Qr=(e,t)=>{let n=g(0),r=_e(gr(e));for(let a=0;a<t.table.length;a++){const o=t.table[a],s=g(o.amount),i=at(r,s)?s:r;if(n=pe(n,O(i,o.percent,5)),r=K(r,i),ot(r))return n}return n},Xr=(e,t)=>{let n;for(let r=0;r<t.table.length;r++){const a=t.table[r],o=_e({amount:a.amount,currency:we,scale:0});if(at(o,e)){if(!n||n.amount===0)return g(0);const s=g(n.amount),i=n?n.percent:0,u=a.percent-i,m=w(K(o,s)),l=u/m,v=w(K(e,s))*l+i;return O(e,v,5)}n=a}throw new Error(`No Tarif found for income ${Ie(e)}, ${t.taxType}, ${t.tableType}`)},kr=(e,t)=>{let n;for(let o=0;o<t.table.length;o++){const s=t.table[o],i=g(s.amount);if(vr(i,e))n=s;else break}if(!n)throw new Error(`No Tarif found for income ${Ie(e)}, ${t.taxType}, ${t.tableType}`);const r=g(n.taxes),a=g(n.amount);return pe(r,O(K(e,a),n.percent,5))},ea=(e,t)=>O(e,t.table[0].percent,5),Y=async(e,t,n,r,a)=>{const o=await Zr(e,t,r,n);o.splitting>0&&He(n)&&(a=D(a,1/o.splitting,5));const s=ut(a),i=Yr(s,o);return o.splitting>0&&He(n)?D(i,o.splitting,5):i},ta=async e=>{Jr(e);const{taxableIncomeBund:t,taxableIncomeCanton:n,taxableFortuneCanton:r,grossNetDetails:a,deductionsFortune:o,deductionsIncome:s}=await na(e),{taxesIncomeBund:i}=await aa(e,t,!0),{taxesIncomeBase:u,taxesFortuneBase:m}=await ra(e,n,r),{taxesIncomeCanton:l,taxesIncomeCity:c,taxesIncomeChurch:v,taxesFortuneCanton:y,taxesFortuneCity:S,taxesFortuneChurch:x}=await ct(e,u,u,m),h=Hr(e),T=U(l,c,v,y,S,x,i,h);return{input:e,taxesIncomeCanton:w(l),taxesIncomeCity:w(c),taxesIncomeChurch:w(v),taxesFortuneCanton:w(y),taxesFortuneCity:w(S),taxesFortuneChurch:w(x),taxesIncomeBund:w(i),taxesPersonnel:w(h),taxesTotal:w(T),details:{netIncomeCanton:a.reduce((_,C)=>_+C.netIncome,0),netIncomeBund:a.reduce((_,C)=>_+C.netIncome,0),grossNetDetails:a,deductionsIncome:s,deductionsFortune:o,taxableFortuneCanton:w(r),taxableIncomeCanton:w(n),taxableIncomeBund:w(t)}}},na=async e=>{const t=await ge(e.cantonId,e.year,"EINKOMMENSSTEUER"),n=await ge(e.cantonId,e.year,"VERMOEGENSSTEUER"),r=await ge(0,e.year,"EINKOMMENSSTEUER"),a=Dr(e),o=[],s=[];e.persons.find(l=>l.incomeType==="taxable")||Rr.forEach(l=>{const c=Je(l,e,"EINKOMMENSSTEUER",a,t,r);o.push(...c);const v=Je(l,e,"VERMOEGENSSTEUER",a,n);s.push(...v)});const i=be(K(g(e.fortune),s.reduce((l,c)=>pe(l,c.amountCanton),g(0)))),u=be(K(a.reduce((l,c)=>U(l,g(c.netIncome)),g(0)),o.reduce((l,c)=>U(l,c.amountCanton),g(0)))),m=be(K(a.reduce((l,c)=>U(l,g(c.netIncome)),g(0)),o.reduce((l,c)=>U(l,c.amountBund),g(0))));return{grossNetDetails:a,deductionsIncome:o.map(l=>({id:l.id,amountCanton:w(l.amountCanton),amountBund:w(l.amountBund),name:l.name,target:l.target})),deductionsFortune:s.map(l=>({id:l.id,amountCanton:w(l.amountCanton),amountBund:w(l.amountBund),name:l.name,target:l.target})),taxableFortuneCanton:i,taxableIncomeCanton:u,taxableIncomeBund:m}},ra=async(e,t,n)=>{const r=Oe(e.relationship,e.children),a=await Y(e.cantonId,e.year,r,"EINKOMMENSSTEUER",t),o=await Y(e.cantonId,e.year,r,"VERMOEGENSSTEUER",n);return{taxesIncomeBase:a,taxesFortuneBase:o}},aa=async(e,t,n)=>{const r=Oe(e.relationship,e.children);let a=N(await Y(0,e.year,r,"EINKOMMENSSTEUER",t));return n&&(a=K(a,g(251*e.children))),{taxesIncomeBund:a}},We=e=>{const t=oa[e];if(!t)throw new Error(`No pension credit definition found for canton ${e}`);return t},oa={0:{type:"IncomeTaxFactor",cantonId:0,incomeTaxFactor:.2},26:{type:"RentIncomeFactor",cantonId:26,rentIncomeFactor:.05,minTaxFactor:.02},4:{type:"Tarif",cantonId:4,amountFree:5200},12:{type:"IncomeTaxFactor",cantonId:12,incomeTaxFactor:1/3,minTaxFactor:.005},22:{type:"Flattax",cantonId:22,taxFactorChurch:.005},19:{type:"RentIncomeFactor",cantonId:19,rentIncomeFactor:.04,maxTaxFactor:.025},15:{type:"IncomeTaxFactor",cantonId:15,incomeTaxFactor:.4},14:{type:"IncomeTaxFactor",cantonId:14,incomeTaxFactor:.4,minTaxFactor:.008},9:{type:"Flattax",cantonId:9},25:{type:"IncomeTaxFactor",cantonId:25,minTaxFactor:.01},7:{type:"Tarif",cantonId:7,deductionMarried:5e3,amountFree:5e3},18:{type:"IncomeTaxFactor",cantonId:18,incomeTaxFactor:.25},6:{type:"Tarif",cantonId:6},5:{type:"Tarif",cantonId:5,maxTaxFactor:.045},17:{type:"IncomeTaxFactor",cantonId:17,incomeTaxFactor:.2},3:{type:"Tarif",cantonId:3},2:{type:"IncomeTaxFactor",cantonId:2,incomeTaxFactor:.25,minTaxFactor:.005},16:{type:"Flattax",cantonId:16},10:{type:"RentIncomeFactorOwn",cantonId:10,rentIncomeFactor:1/15,minTaxFactor:.015,maxTaxFactor:.02},1:{type:"IncomeTaxFactor",cantonId:1,incomeTaxFactor:.3,minTaxFactor:.01},20:{type:"Flattax",cantonId:20},21:{type:"RentIncomeFactor",cantonId:21,rentIncomeFactor:.068,minTaxFactor:.02},23:{type:"IncomeTaxFactor",cantonId:23,incomeTaxFactor:.33},24:{type:"RentIncomeFactor",cantonId:24,rentIncomeFactor:.068,minTaxFactor:.02},13:{type:"IncomeTaxFactor",cantonId:13,incomeTaxFactor:.25,minTaxFactor:.025},8:{type:"IncomeTaxFactor",cantonId:8,incomeTaxFactor:.2},11:{type:"Tarif",cantonId:11}},sa=async e=>{const t=We(e.cantonId),n=We(0),r=N(await Ze(e,n)),a=await Ze(e,t),o=ia(e,t,a),{taxesIncomeCanton:s,taxesIncomeCity:i,taxesIncomeChurch:u}=await ct(e,a,o,g(0)),m=U(r,s,i,u);return{input:e,taxesIncomeCanton:w(s),taxesIncomeCity:w(i),taxesIncomeChurch:w(u),taxesFortuneCanton:0,taxesFortuneCity:0,taxesFortuneChurch:0,taxesIncomeBund:w(r),taxesPersonnel:0,taxesTotal:w(m),details:{netIncomeBund:e.fortune,netIncomeCanton:e.fortune,deductionsIncome:[],deductionsFortune:[],taxableFortuneCanton:0,taxableIncomeCanton:e.fortune,taxableIncomeBund:e.fortune}}},ia=(e,t,n)=>{const r=g(e.fortune);return t.taxFactorChurch?D(r,t.taxFactorChurch,7):n},Ze=async(e,t)=>{const n=await ua(e,t);return ca(e,n,t)},ua=async(e,t)=>{const n=Oe(e.relationship,e.children),r=g(e.fortune);switch(t.type){case"IncomeTaxFactor":if(!t.incomeTaxFactor)throw new Error("IncomeTaxFactor must be defined");return await la({tarifGroup:n,cantonId:t.cantonId,year:e.year,capital:r,incomeTaxFactor:t.incomeTaxFactor});case"RentIncomeFactor":if(!t.rentIncomeFactor)throw new Error("RentIncomeFactor must be defined");return await Ye({tarifGroup:n,tarifType:"EINKOMMENSSTEUER",cantonId:t.cantonId,year:e.year,capital:r,rentIncomeFactor:t.rentIncomeFactor});case"RentIncomeFactorOwn":if(!t.rentIncomeFactor)throw new Error("RentIncomeFactor must be defined");return await Ye({tarifGroup:n,tarifType:"VORSORGESTEUER",cantonId:t.cantonId,year:e.year,capital:r,rentIncomeFactor:t.rentIncomeFactor});case"Flattax":case"Tarif":return await ma({tarifGroup:n,cantonId:t.cantonId,year:e.year,capital:r})}},ca=(e,t,n)=>(n.minTaxFactor&&(t=ve(t,D(g(e.fortune),n.minTaxFactor,7))),n.maxTaxFactor&&(t=te(t,D(g(e.fortune),n.maxTaxFactor,7))),t),Ye=async({tarifGroup:e,tarifType:t,cantonId:n,year:r,capital:a,rentIncomeFactor:o})=>{const s=ut(D(a,o,7));if(ot(s))return g(0);const i=await Y(n,r,e,t,s),u=w(i)/w(s);return D(a,u,7)},la=async({tarifGroup:e,cantonId:t,year:n,capital:r,incomeTaxFactor:a})=>{const o=await Y(t,n,e,"EINKOMMENSSTEUER",r);return D(o,a,7)},ma=async({tarifGroup:e,cantonId:t,year:n,capital:r})=>await Y(t,n,e,"VORSORGESTEUER",r),da=async e=>{switch(e.calculationType){case"incomeAndWealth":return await ta(e);case"capital":return await sa(e)}throw new Error("Tax type not supported")},fa={class:"w-full max-w-5xl mx-auto px-3 sm:px-8"},ha={class:"mb-40"},pa=f("h1",{class:"text-2xl mt-9 mb-4"},"Steuerrechner",-1),va={class:"flex flex-wrap justify-between gap-9"},ya={class:"max-w-sm"},ba={class:"grid grid-cols-2 gap-4"},ga={key:0,class:"col-start-1 col-span-2 p-1 text-sm font-medium text-normal-600 bg-normal-200 -mb-3"},Ta=f("div",{class:"col-start-1 col-span-2 text-sm font-medium text-normal-600 mt-1"}," Abzüge ",-1),Sa={key:0,class:"col-start-1 col-span-2 p-1 text-sm font-medium text-normal-600 bg-normal-200 -mb-3"},wa=f("div",{class:"col-start-1 col-span-2 text-sm font-medium text-normal-600 mt-1"}," Weitere Abzüge ",-1),xa={key:0,class:"max-w-sm"},Aa=f("h3",{class:"text-lg leading-7"},"Resultat Steuerberechnung",-1),Fa={class:"grid grid-cols-2 text-sm mt-4"},Ea=f("div",{class:"font-medium"},"Kantonssteuer",-1),Ca={class:"font-medium font-numerictab text-right"},Ia=f("div",{class:""},"Einkommenssteuer",-1),_a={class:"font-numerictab text-sm text-right"},Oa=f("div",{class:""},"Vermögenssteuer",-1),$a={class:"font-numerictab text-right"},Na={class:"col-span-2 mt-2 bg-normal-200 h-1.5"},Ba=f("div",{class:"col-span-2 mt-4"},null,-1),Ma=f("div",{class:"font-medium"},"Gemeindesteuer",-1),ja={class:"font-medium font-numerictab text-right"},Ra=f("div",{class:""},"Einkommenssteuer",-1),Da={class:"font-numerictab text-sm text-right"},Ka=f("div",{class:""},"Vermögenssteuer",-1),za={class:"font-numerictab text-right"},Pa={class:"col-span-2 mt-2 bg-normal-200 h-1.5"},Ua=f("div",{class:"col-span-2 mt-4"},null,-1),La=f("div",{class:"font-medium"},"Kirchensteuer",-1),Ja={class:"font-medium font-numerictab text-right"},Va=f("div",{class:""},"Einkommenssteuer",-1),qa={class:"font-numerictab text-sm text-right"},Ga=f("div",{class:""},"Vermögenssteuer",-1),Ha={class:"font-numerictab text-right"},Wa={class:"col-span-2 mt-2 bg-normal-200 h-1.5"},Za=f("div",{class:"col-span-2 mt-4"},null,-1),Ya=f("div",{class:"font-medium"},"Personalsteuer",-1),Qa={class:"font-medium font-numerictab text-right"},Xa=f("div",{class:"col-span-2 mt-2 bg-normal-200 h-1.5"},[f("div",{class:"h-1.5 bg-primary-600",style:{width:`${0*100}%`}})],-1),ka=f("div",{class:"col-span-2 mt-4"},null,-1),eo=f("div",{class:"font-medium"},"Direkte Bundessteuer",-1),to={class:"font-medium font-numerictab text-right"},no={class:"col-span-2 mt-2 bg-normal-200 h-1.5"},ro=f("div",{class:"col-span-2 mt-4 border-t mb-4"},null,-1),ao=f("div",{class:""},"Total Einkommenssteuer",-1),oo={class:"font-numerictab text-sm text-right"},so=f("div",{class:""},"Total Vermögenssteuer",-1),io={class:"font-numerictab text-right"},uo=f("div",{class:"font-medium"},"Total Steuern",-1),co={class:"font-medium font-numerictab text-right"},lo={key:1},mo={class:"max-w-2xl text-sm"},fo=f("h3",{class:"text-lg leading-7"},"Details Steuerberechnung",-1),ho={key:0,class:"w-full font-numerictab border-spacing-y-2 border-separate"},po={class:"bg-normal-200"},vo=f("th",{class:"w-auto text-left"},"Brutto- / Nettoeinkommen",-1),yo=f("th",{class:"w-32 text-right"},"P1",-1),bo={class:"w-32 text-right"},go={key:0},To={class:"text-right"},So={class:"text-right"},wo={key:0},xo={class:"w-full mt-9 border-spacing-y-2 border-separate"},Ao=f("thead",null,[f("tr",{class:"bg-normal-200"},[f("th",{class:"w-auto text-left"},"Einkommen"),f("th",{class:"w-32 text-right"},"Kanton"),f("th",{class:"w-32 text-right"},"Bund")])],-1),Fo={class:""},Eo={class:""},Co={class:"text-right font-numerictab"},Io={class:"text-right font-numerictab"},_o={class:"w-full mt-9 border-spacing-y-2 border-separate"},Oo=f("thead",null,[f("tr",{class:"bg-normal-200"},[f("th",{class:"w-auto text-left"},"Vermögen"),f("th",{class:"w-32 text-right"},"Kanton"),f("th",{class:"w-32"})])],-1),$o={class:""},No={class:""},Bo={class:"text-right font-numerictab"},Mo=f("td",null,null,-1),Do=Ae({__name:"index",async setup(e){let t,n;const r={calculationType:"incomeAndWealth",children:0,fortune:25e4,locationId:66,relationship:"s",year:2022,persons:[{age:30,confession:"roman",income:1e5,incomeType:"gross",pkDeduction:5e3}]},a=h=>h.map(T=>({value:T.value,label:T.label.de})),o=([t,n]=yt(()=>jt(2024)),t=await t,n(),t),s=P(()=>o.map(h=>({value:h.BfsID,label:`${h.BfsName} (${h.Canton})`}))??[]),i=re(),u=re(),m=P(()=>i.value==="m"||i.value==="rp"),l=P(()=>m.value?[1,2]:[1]),c=re(),v=P(()=>{if(!c.value||!c.value.details.grossNetDetails)return[];const h=[],T=c.value.details.grossNetDetails[0],p=c.value.details.grossNetDetails.length>1?c.value.details.grossNetDetails[1]:void 0;return h.push({label:"Bruttoeinkommen",p1:T.grossIncome,p2:p==null?void 0:p.grossIncome}),h.push({label:"AHV-, IV-, EO-Beiträge	",p1:T.ahvIvEo,p2:p==null?void 0:p.ahvIvEo}),h.push({label:"ALV-Beiträge	",p1:T.alv,p2:p==null?void 0:p.alv}),h.push({label:"NBU-Beiträge	",p1:T.nbu,p2:p==null?void 0:p.nbu}),h.push({label:"Pensionskassenbeiträge",p1:T.pk,p2:p==null?void 0:p.pk}),h.push({label:"Nettoeinkommen",p1:T.netIncome,p2:p==null?void 0:p.netIncome}),h}),y=P(()=>{if(!c.value)return[];const h=[],T=c.value.details.deductionsIncome;return h.push({label:"Nettoeinkommen Haupterwerb",canton:c.value.details.netIncomeCanton,bund:c.value.details.netIncomeBund}),T.forEach(p=>{h.push({label:p.name+(m.value&&p.target?` ${p.target}`:""),canton:p.amountCanton,bund:p.amountBund})}),h.push({label:"Steuerbares Einkommen",canton:c.value.details.taxableIncomeCanton,bund:c.value.details.taxableIncomeBund}),h}),S=P(()=>{if(!c.value)return[];const h=[],T=c.value.details.deductionsFortune;return h.push({label:"Reinvermögen",canton:c.value.input.fortune,bund:0}),T.forEach(p=>{h.push({label:p.name+(m.value?p.target:""),canton:p.amountCanton,bund:p.amountBund})}),h.push({label:"Steuerbares Vermögen",canton:c.value.details.taxableFortuneCanton,bund:0}),h}),x=async(h,T)=>{var _;T==null||T.setErrors([]);const p={...h,cantonId:(_=o==null?void 0:o.find(C=>C.BfsID===h.locationId))==null?void 0:_.CantonID};try{const C=await da(p);c.value=C}catch(C){T==null||T.setErrors(["Es ist ein unerwarteter Fehler aufgetreten.",C.message]),c.value=void 0}};return(h,T)=>{const p=Qe("FormKit"),_=At,C=wt;return A(),I("div",fa,[f("div",ha,[pa,f("div",va,[f("div",ya,[j(p,{value:r,type:"form",actions:!1,onSubmit:x},{default:Q(()=>[f("div",ba,[j(p,{type:"buttonSelect",name:d(M.nameof)(b=>b.calculationType),label:"Steuerart",options:a(d(W).calculationTypes),orientation:"row","option-label-classes":"text-xs","outer-class":"col-span-2"},null,8,["name","options"]),j(p,{type:"select",name:d(M.nameof)(b=>b.year),options:d(W).years,label:"Steuerjahr"},null,8,["name","options"]),j(p,{type:"autocomplete",name:d(M.nameof)(b=>b.locationId),label:"Steuergemeinde",options:d(s),"outer-class":"col-span-2","filter-min-length":2},null,8,["name","options"]),j(p,{modelValue:d(i),"onUpdate:modelValue":T[0]||(T[0]=b=>$e(i)?i.value=b:null),name:d(M.nameof)(b=>b.relationship),type:"buttonSelect",label:"Zivilstand",options:a(d(W).relationships),"outer-class":"col-span-2",orientation:"row","option-label-classes":"text-xs"},null,8,["modelValue","name","options"]),j(p,{modelValue:d(u),"onUpdate:modelValue":T[1]||(T[1]=b=>$e(u)?u.value=b:null),label:"Anzahl Kinder",name:d(M.nameof)(b=>b.children),type:"select",validation:"required","as-number":!0,options:d(Bt),"step-next":!0},null,8,["modelValue","name","options"]),j(p,{type:"list",name:d(M.nameof)(b=>b.persons)},{default:Q(()=>[(A(!0),I(X,null,k(d(l),b=>(A(),z(p,{key:b,type:"group"},{default:Q(()=>[d(m)?(A(),I("div",ga," Person "+F(b),1)):J("",!0),(A(),z(p,{key:b,type:"hidden",name:d(M.nameof)(E=>E.incomeType),value:"gross"},null,8,["name"])),(A(),z(p,{key:b,type:"numberSuffix",suffix:"Jahre",name:d(M.nameof)(E=>E.age),step:1,min:18,max:150,label:"Alter","outer-class":"col-start-1"},null,8,["name"])),(A(),z(p,{key:b,type:"buttonSelect",name:d(M.nameof)(E=>E.confession),"validation-label":"Konfession",options:a(d(W).confessions),"outer-class":"col-span-2",orientation:"row","option-label-classes":"text-xs"},null,8,["name","options"])),(A(),z(p,{key:b,type:"numberSuffix",suffix:"CHF",name:d(M.nameof)(E=>E.income),step:1,min:0,value:0,label:"Brutto Einkommen"},null,8,["name"])),(A(),z(p,{key:b,type:"numberSuffix",suffix:"CHF",name:d(M.nameof)(E=>E.pkDeduction),step:1,min:0,max:1e4,value:0,label:"PK-Beitrag Arbeitnehmer"},null,8,["name"])),Ta,(A(),z(_,{key:b,class:"col-span-2",deductions:d(W).deductionsPerson,"children-count":d(u)},null,8,["deductions","children-count"]))]),_:2},1024))),128))]),_:1},8,["name"]),d(m)?(A(),I("div",Sa," Gemeinsam ")):J("",!0),wa,j(_,{class:"col-span-2",deductions:d(W).deductionsGeneral,"children-count":d(u)},null,8,["deductions","children-count"]),j(p,{type:"numberSuffix",suffix:"CHF",name:d(M.nameof)(b=>b.fortune),"outer-class":"col-start-1",step:1,min:0,label:"Reinvermögen"},null,8,["name"]),j(C,{type:"submit",class:"col-start-1"},{default:Q(()=>[bt("Berechnen")]),_:1})])]),_:1})]),d(c)?(A(),I("div",xa,[Aa,f("div",Fa,[Ea,f("div",Ca,F(("displayCurrencyShort"in h?h.displayCurrencyShort:d($))(d(c).taxesIncomeCanton+d(c).taxesFortuneCanton)),1),Ia,f("div",_a,F(("displayCurrencyShort"in h?h.displayCurrencyShort:d($))(d(c).taxesIncomeCanton)),1),Oa,f("div",$a,F(("displayCurrencyShort"in h?h.displayCurrencyShort:d($))(d(c).taxesFortuneCanton)),1),f("div",Na,[f("div",{class:"h-1.5 bg-primary-600",style:ne({width:`${(d(c).taxesIncomeCanton+d(c).taxesFortuneCanton)/d(c).taxesTotal*100}%`})},null,4)]),Ba,Ma,f("div",ja,F(("displayCurrencyShort"in h?h.displayCurrencyShort:d($))(d(c).taxesIncomeCity+d(c).taxesFortuneCity)),1),Ra,f("div",Da,F(("displayCurrencyShort"in h?h.displayCurrencyShort:d($))(d(c).taxesIncomeCity)),1),Ka,f("div",za,F(("displayCurrencyShort"in h?h.displayCurrencyShort:d($))(d(c).taxesFortuneCity)),1),f("div",Pa,[f("div",{class:"h-1.5 bg-primary-600",style:ne({width:`${(d(c).taxesIncomeCity+d(c).taxesFortuneCity)/d(c).taxesTotal*100}%`})},null,4)]),Ua,La,f("div",Ja,F(("displayCurrencyShort"in h?h.displayCurrencyShort:d($))(d(c).taxesIncomeChurch+d(c).taxesFortuneChurch)),1),Va,f("div",qa,F(("displayCurrencyShort"in h?h.displayCurrencyShort:d($))(d(c).taxesIncomeChurch)),1),Ga,f("div",Ha,F(("displayCurrencyShort"in h?h.displayCurrencyShort:d($))(d(c).taxesFortuneChurch)),1),f("div",Wa,[f("div",{class:"h-1.5 bg-primary-600",style:ne({width:`${(d(c).taxesIncomeChurch+d(c).taxesFortuneChurch)/d(c).taxesTotal*100}%`})},null,4)]),Za,Ya,f("div",Qa,F(("displayCurrencyShort"in h?h.displayCurrencyShort:d($))(d(c).taxesPersonnel)),1),Xa,ka,eo,f("div",to,F(("displayCurrencyShort"in h?h.displayCurrencyShort:d($))(d(c).taxesIncomeBund)),1),f("div",no,[f("div",{class:"h-1.5 bg-primary-600",style:ne({width:`${d(c).taxesIncomeBund/d(c).taxesTotal*100}%`})},null,4)]),ro,ao,f("div",oo,F(("displayCurrencyShort"in h?h.displayCurrencyShort:d($))(d(c).taxesIncomeCity+d(c).taxesIncomeCanton+d(c).taxesIncomeChurch+d(c).taxesIncomeBund)),1),so,f("div",io,F(("displayCurrencyShort"in h?h.displayCurrencyShort:d($))(d(c).taxesFortuneCity+d(c).taxesFortuneCanton+d(c).taxesFortuneChurch)),1),uo,f("div",co,F(("displayCurrencyShort"in h?h.displayCurrencyShort:d($))(d(c).taxesTotal)),1)])])):J("",!0),d(c)?(A(),I("div",lo,[f("div",mo,[fo,d(v).length>0?(A(),I("table",ho,[f("tr",po,[vo,yo,f("th",bo,[d(m)?(A(),I("span",go,"P2")):J("",!0)])]),(A(!0),I(X,null,k(d(v),(b,E)=>(A(),I("tr",{key:E,class:"last:font-medium"},[f("td",null,F(b.label),1),f("td",To,F(("displayCurrency"in h?h.displayCurrency:d(Z))(b.p1)),1),f("td",So,[d(m)?(A(),I("span",wo,F(("displayCurrency"in h?h.displayCurrency:d(Z))(b.p2??0)),1)):J("",!0)])]))),128))])):J("",!0),f("table",xo,[Ao,f("tbody",Fo,[(A(!0),I(X,null,k(d(y),(b,E)=>(A(),I("tr",{key:E,class:"last:font-medium"},[f("td",Eo,F(b.label),1),f("td",Co,F(("displayCurrency"in h?h.displayCurrency:d(Z))(b.canton)),1),f("td",Io,F(("displayCurrency"in h?h.displayCurrency:d(Z))(b.bund)),1)]))),128))])]),f("table",_o,[Oo,f("tbody",$o,[(A(!0),I(X,null,k(d(S),(b,E)=>(A(),I("tr",{key:E,class:"last:font-medium"},[f("td",No,F(b.label),1),f("td",Bo,F(("displayCurrency"in h?h.displayCurrency:d(Z))(b.canton)),1),Mo]))),128))])])])])):J("",!0)])])])}}});export{Do as default};
